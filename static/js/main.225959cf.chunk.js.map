{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/auth.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/PlacePopup.js","components/Register.js","components/Login.js","images/success-icon.svg","images/error-icon.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","onSignOut","email","className","src","logoPath","alt","exact","path","onClick","to","CurrentUserContext","React","createContext","Card","card","onCardEdit","onCardClick","onCardLike","onCardDelete","cardStyle","backgroundImage","link","currentUser","useContext","isLiked","likes","some","i","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","style","type","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","imageStyle","avatar","about","map","Footer","PopupWithForm","title","isOpen","buttonText","onSubmit","onClose","children","disabled","noValidate","ImagePopup","BASE_URL","api","address","this","_address","token","Promise","all","getCardList","getUserInfo","fetch","headers","authorization","then","res","ok","json","reject","status","dto","method","body","JSON","stringify","cardId","cardID","like","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","placeholder","required","minLength","maxLength","pattern","value","onChange","target","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","initialCardData","PlacePopup","onEditPlace","cardData","setCardData","handleChange","field","isSaveAvailable","Boolean","checked","for","Register","onRegister","setEmail","password","setPassword","Login","onLogin","InfoTooltip","SuccessIcon","ErrorIcon","ProtectedRoute","Component","component","props","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","placePopupState","setPlacePopupState","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","isInfoToolTipOpen","setIsInfoToolTipOpen","tooltipStatus","setTooltipStatus","isLoggedIn","setIsLoggedIn","history","useHistory","closeAllPopups","Accept","response","data","localStorage","setItem","jwt","auth","push","catch","err","getItem","getAppInfo","userData","console","log","removeItem","Provider","changeLikeCardStatus","newCard","c","removeCard","filter","userUpdate","setUserInfo","newUserData","updateCard","updatedCard","addCard","newCardFull","avatarUpdate","setUserAvatar","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.225959cf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fc3e6875.svg\";","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\n\n// В корневом компоненте App описаны обработчики: onRegister, onLogin и onSignOut. Эти обработчики переданы в соответствующие компоненты: Register.js, Login.js, Header.js\nfunction Header ({onSignOut, email }) {\n  function handleSignOut(){\n    onSignOut();\n  }\n  return (\n    <header className=\"header page__section\">\n      <img src={logoPath} alt=\"Логотип проекта Mesto\" className=\"logo header__logo\" />\n      <Route exact path=\"/\">\n        <div className=\"header__wrapper\">\n          <p className=\"header__user\">{ email }</p>\n          <button className=\"header__logout\" onClick={handleSignOut}>Выйти</button>\n        </div>\n      </Route>\n      <Route path=\"/signup\">\n        <Link className=\"header__auth-link\" to=\"signin\">Войти</Link>\n      </Route>\n      <Route path=\"/signin\">\n        <Link className=\"header__auth-link\" to=\"signup\">Регистрация</Link>\n      </Route>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\n// Объект контекста CurrentUserContext экспортируется из отдельного файла директории contexts\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardEdit, onCardClick, onCardLike, onCardDelete }) {\n  const cardStyle = { backgroundImage: `url(${card.link})` };\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isLiked = card.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button ${isLiked && 'card__like-button_is-active'}`;\n\n  const isOwn = card.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\n  );\n\n  return (\n    <li className=\"places__item card\">\n      <div className=\"card__image\" style={cardStyle} onClick={handleClick} />\n      {isOwn && <button type=\"button\" className={'card__edit-button'} onClick={() => onCardEdit(card)} />}\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\n      <div className=\"card__description\">\n        <h2 className=\"card__title\">\n          {card.name}\n        </h2>\n        <div className=\"card__likes\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <p className=\"card__like-count\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ cards, onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete, onCardEdit }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const imageStyle = { backgroundImage: `url(${currentUser.avatar})` };\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile page__section\">\n        <div className=\"profile__image\" onClick={onEditAvatar} style={imageStyle}></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"places page__section\">\n        <ul className=\"places__list\">\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n              onCardEdit={onCardEdit}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__section\">\n      <p className=\"footer__copyright\">\n        © 2020 Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({\n  title,\n  name,\n  isOpen,\n  buttonText = 'Сохранить',\n  onSubmit,\n  onClose,\n  children,\n  disabled,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_is-opened' : ''}`}>\n      <div className=\"popup__content\">\n        <form className=\"popup__form\" name={name} noValidate onSubmit={onSubmit}>\n          <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n          <h3 className=\"popup__title\">{title}</h3>\n          {children}\n          <button disabled={disabled} type=\"submit\" className=\"button popup__button\">{buttonText}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_type_image ${card ? 'popup_is-opened' : ''}`}>\n      <div className=\"popup__content popup__content_content_image\">\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n        <img alt={card ? card.name : ''} src={card ? card.link : ''} className=\"popup__image\" />\n        <p className=\"popup__caption\">{card ? card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","//export const BASE_URL = \"http://localhost:3000\";\nexport const BASE_URL = \"https://bb34-78-106-206-15.eu.ngrok.io\";\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n            method: \"POST\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ email, password }),\n        })\n        .then((response) => {\n            if (response.status === 201) {\n                return response.json();\n            }\n        })\n        .then((res) => {\n            return res;\n        });\n};\nexport const login = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n            method: \"POST\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ email, password }),\n        })\n        .then((response) => {\n            return response.json();\n        })\n        .then((data) => {\n            localStorage.setItem(\"jwt\", data.jwt);\n            localStorage.setItem(\"email\", email);\n            return data;\n        });\n};\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n            method: \"GET\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                authorization: `Bearer ${token}`,\n            },\n        })\n        .then((response) => {\n            if (response.status === 200) {\n                return response.json();\n            }\n        })\n        .then((res) => {\n            return res;\n        });\n};","import { BASE_URL } from './auth'\n\nclass Api {\n  constructor({ address }) {\n    this._address = address;\n  }\n\n  getAppInfo(token) {\n    return Promise.all([this.getCardList(token), this.getUserInfo(token)]);\n  }\n\n  getCardList(token) {\n    return fetch(`${this._address}/cards`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  addCard(dto, token) {\n    return fetch(`${this._address}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(dto),\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  updateCard(dto, cardId, token) {\n    return fetch(`${this._address}/cards/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(dto),\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  removeCard(cardID, token) {\n    return fetch(`${this._address}/cards/${cardID}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  getUserInfo(token) {\n    return fetch(`${this._address}/users/me`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  setUserInfo({ name, about }, token) {\n    return fetch(`${this._address}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  setUserAvatar({ avatar }, token) {\n    return fetch(`${this._address}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n\n  changeLikeCardStatus(cardID, like, token) {\n    // Обычная реализация: 2 разных метода для удаления и постановки лайка.\n    return fetch(`${this._address}/cards/${cardID}/likes`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\n  }\n}\n\nconst api = new Api({\n  address: BASE_URL\n});\n\nexport default api;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen} onSubmit={handleSubmit} onClose={onClose} title=\"Редактировать профиль\" name=\"edit\"\n    >\n      <label className=\"popup__label\">\n        <input type=\"text\" name=\"userName\" id=\"owner-name\"\n               className=\"popup__input popup__input_type_name\" placeholder=\"Имя\"\n               required minLength=\"2\" maxLength=\"40\" pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\n               value={name || ''} onChange={handleNameChange} />\n        <span className=\"popup__error\" id=\"owner-name-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input type=\"text\" name=\"userDescription\" id=\"owner-description\"\n               className=\"popup__input popup__input_type_description\" placeholder=\"Занятие\"\n               required minLength=\"2\" maxLength=\"200\"\n               value={description || ''} onChange={handleDescriptionChange} />\n        <span className=\"popup__error\" id=\"owner-description-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onUpdateAvatar, onClose }) {\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen} onSubmit={handleSubmit} onClose={onClose} title=\"Обновить аватар\" name=\"edit-avatar\"\n    >\n\n      <label className=\"popup__label\">\n        <input type=\"url\" name=\"avatar\" id=\"owner-avatar\"\n               className=\"popup__input popup__input_type_description\" placeholder=\"Ссылка на изображение\"\n               required ref={inputRef} />\n        <span className=\"popup__error\" id=\"owner-avatar-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst initialCardData = {\n  name: '',\n  link: '',\n  description: '',\n  address: '',\n  type: '',\n}\n\nfunction PlacePopup({ isOpen, onAddPlace, onEditPlace, onClose, card }) {\n  const [cardData, setCardData] = useState(initialCardData)\n\n  useEffect(() => {\n    if (isOpen) {\n      setCardData(card\n        ? {\n          name: card.name,\n          link: card.link,\n          description: card.description || '',\n          address: card.address || '',\n          type: card.type,\n        }\n        : initialCardData\n      );\n    }\n  }, [isOpen, card])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (card) {\n      onEditPlace(cardData, card._id);\n      return;\n    }\n    onAddPlace(cardData);\n  }\n\n  const handleChange = (e, field) => setCardData((card) => ({ ...card, [field]: e.target.value }));\n\n  const { name, address, link, description, type } = cardData;\n  const isSaveAvailable = Boolean(name && link && type);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen} disabled={!isSaveAvailable} onSubmit={handleSubmit} onClose={onClose} title={card ? \"Изменить место\" : \"Новое место\"} name=\"new-card\"\n    >\n      <label className=\"popup__label\">\n        <input type=\"text\" name=\"name\" id=\"place-name\"\n               className=\"popup__input popup__input_type_card-name\" placeholder=\"Название\"\n               required minLength=\"1\" maxLength=\"30\" value={name} onChange={(e) => handleChange(e, 'name')} />\n        <span className=\"popup__error\" id=\"place-name-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input type=\"url\" name=\"link\" id=\"place-link\"\n               className=\"popup__input popup__input_type_url\" placeholder=\"Ссылка на картинку\"\n               required value={link} onChange={(e) => handleChange(e, 'link')} />\n        <span className=\"popup__error\" id=\"place-link-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input type=\"text\" name=\"description\" id=\"place-description\"\n               className=\"popup__input popup__input_type_card-name\" placeholder=\"Описание\"\n               value={description} onChange={(e) => handleChange(e, 'description')} />\n        <span className=\"popup__error\" id=\"place-description-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input type=\"text\" name=\"address\" id=\"place-address\"\n               className=\"popup__input popup__input_type_card-name\" placeholder=\"Адрес\"\n               value={address} onChange={(e) => handleChange(e, 'address')} />\n        <span className=\"popup__error\" id=\"place-address-error\"></span>\n      </label>\n      <p className=\"popup__radio-input-title\">Место:</p>\n      <input type=\"radio\" id=\"place-type-1\" className=\"popup__radio-input\"\n        name=\"type\" value=\"public\" checked={type === 'public'} onChange={(e) => handleChange(e, 'type')} />\n      <label for=\"place-type-1\" className=\"popup__radio-input-label\">Общедоступное</label>\n      <input type=\"radio\" id=\"place-type-2\" className=\"popup__radio-input\"\n        name=\"type\" value=\"private\" checked={type === 'private'} onChange={(e) => handleChange(e, 'type')} />\n      <label for=\"place-type-2\" className=\"popup__radio-input-label\">Частное</label>\n    </PopupWithForm>\n  );\n}\n\nexport default PlacePopup;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n// В корневом компоненте App описаны обработчики: onRegister, onLogin и onSignOut. Эти обработчики переданы в соответствующие компоненты: Register.js, Login.js, Header.js\nfunction Register ({ onRegister }){\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleSubmit(e){\n    e.preventDefault();\n    const userData = {\n      email,\n      password\n    }\n    onRegister(userData);\n  }\n  return (\n    <div className=\"auth-form\">\n      <form className=\"auth-form__form\" onSubmit={handleSubmit}>\n        <div className=\"auth-form__wrapper\">\n          <h3 className=\"auth-form__title\">Регистрация</h3>\n          <label className=\"auth-form__input\">\n            <input type=\"text\" name=\"email\" id=\"email\"\n              className=\"auth-form__textfield\" placeholder=\"Email\"\n              onChange={e => setEmail(e.target.value)} required  />\n          </label>\n          <label className=\"auth-form__input\">\n            <input type=\"password\" name=\"password\" id=\"password\"\n              className=\"auth-form__textfield\" placeholder=\"Пароль\"\n              onChange={e => setPassword(e.target.value)} required  />\n          </label>\n        </div>\n        <div className=\"auth-form__wrapper\">\n          <button className=\"auth-form__button\" type=\"submit\">Зарегистрироваться</button>\n          <p className=\"auth-form__text\">Уже зарегистрированы? <Link className=\"auth-form__link\" to=\"/signin\">Войти</Link></p>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Register;\n","import React from 'react';\n\nimport '../blocks/login/login.css';\n\n// В корневом компоненте App описаны обработчики: onRegister, onLogin и onSignOut. Эти обработчики переданы в соответствующие компоненты: Register.js, Login.js, Header.js\nfunction Login ({ onLogin }){\n  // В компоненты добавлены новые стейт-переменные: email и password — в компоненты Login и Register\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleSubmit(e){\n    e.preventDefault();\n    const userData = {\n      email,\n      password\n    }\n    onLogin(userData);\n  }\n  return (\n    <div className=\"auth-form\">\n      <form className=\"auth-form__form\" onSubmit={handleSubmit}>\n        <div className=\"auth-form__wrapper\">\n          <h3 className=\"auth-form__title\">Вход</h3>\n          <label className=\"auth-form__input\">\n            <input type=\"text\" name=\"name\" id=\"email\"\n              className=\"auth-form__textfield\" placeholder=\"Email\"\n              onChange={e => setEmail(e.target.value)} required  />\n          </label>\n          <label className=\"auth-form__input\">\n            <input type=\"password\" name=\"password\" id=\"password\"\n              className=\"auth-form__textfield\" placeholder=\"Пароль\"\n              onChange={e => setPassword(e.target.value)} required  />\n          </label>\n        </div>\n        <button className=\"auth-form__button\" type=\"submit\">Войти</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/success-icon.ae3d962f.svg\";","export default __webpack_public_path__ + \"static/media/error-icon.7204b460.svg\";","import React from 'react';\nimport SuccessIcon from '../images/success-icon.svg';\nimport ErrorIcon from '../images/error-icon.svg';\n\nfunction InfoTooltip({ isOpen, onClose, status }) {\n  return (\n    <div className={`popup ${isOpen && 'popup_is-opened'}`}>\n      <div className=\"popup__content\">\n        <form className=\"popup__form\" noValidate>\n          <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n            {status === 'success' ?\n            <div>\n              <img className=\"popup__icon\" src={SuccessIcon} alt=\"\"/>\n              <p className=\"popup__status-message\">Вы успешно зарегистрировались</p>\n            </div>\n            :\n            <div>\n              <img className=\"popup__icon\" src={ErrorIcon} alt=\"\"/>\n              <p className=\"popup__status-message\">Что-то пошло не так!<br />\n              Попробуйте ещё раз.</p>\n            </div>\n            }\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route exact>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\nimport { Route, useHistory, Switch } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport PlacePopup from './PlacePopup';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [placePopupState, setPlacePopupState] = React.useState({ isOpen: false, card: null });\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n\n  // В корневом компоненте App создана стейт-переменная currentUser. Она используется в качестве значения для провайдера контекста.\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n  const [tooltipStatus, setTooltipStatus] = React.useState('');\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  //В компоненты добавлены новые стейт-переменные: email — в компонент App\n  const [email, setEmail] = React.useState('');\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token && isLoggedIn) {\n      api.getAppInfo(token)\n        .then(([cardData, userData]) => {\n          setCurrentUser(userData.data);\n          setCards(cardData.data);\n        })\n        .catch(err => console.log(err))\n    }\n  }, [isLoggedIn])\n\n  // при монтировании App описан эффект, проверяющий наличие токена и его валидности\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.checkToken(token).then((res) => {\n        if (res) {\n          setEmail(res.data.email);\n          setIsLoggedIn(true);\n          history.push('/');\n        } else {\n          localStorage.removeItem('jwt');\n        }\n      })\n        .catch(err => console.log(err));\n    }\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setPlacePopupState({ isOpen: true, card: null });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setPlacePopupState({ isOpen: false, card: null });\n    setIsEditAvatarPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(userUpdate) {\n    api.setUserInfo(userUpdate, localStorage.getItem(\"jwt\")).then((newUserData) => {\n      setCurrentUser(newUserData.data);\n      closeAllPopups();\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(avatarUpdate) {\n    api.setUserAvatar(avatarUpdate, localStorage.getItem(\"jwt\")).then((newUserData) => {\n      setCurrentUser(newUserData.data);\n      closeAllPopups();\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked, localStorage.getItem(\"jwt\")).then((newCard) => {\n      setCards(cards => cards.map((c) => c._id === card._id ? newCard.data : c));\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id, localStorage.getItem(\"jwt\")).then(() => {\n      setCards(cards => cards.filter((c) => c._id !== card._id));\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addCard(newCard, localStorage.getItem(\"jwt\")).then((newCardFull) => {\n      setCards([newCardFull.data, ...cards]);\n      closeAllPopups();\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function handleEditPlaceSubmit(data, id) {\n    api.updateCard(data, id, localStorage.getItem(\"jwt\")).then((updatedCard) => {\n      setCards(cards => cards.map((c) => c._id === id ? updatedCard.data : c));\n      closeAllPopups();\n    })\n      .catch((err) => console.log(err));\n  }\n\n  function onRegister({ email, password }) {\n    auth.register(email, password)\n      .then((res) => {\n        if (res.data._id) {\n          setTooltipStatus('success');\n          setIsInfoToolTipOpen(true);\n          const userData = {\n            email,\n            password\n          }\n          onLogin(userData);\n        } else {\n          // невалидные данные\n          setTooltipStatus('fail');\n          setIsInfoToolTipOpen(true);\n        }\n      })\n      .catch((err) => {\n        setTooltipStatus('fail');\n        setIsInfoToolTipOpen(true);\n      });\n  }\n\n  function onLogin({ email, password }) {\n    auth.login(email, password).then((res) => {\n      if (res.token) {\n        // при вызове обработчика onLogin происходит сохранение jwt\n        localStorage.setItem('jwt', res.token);\n        setEmail(email);\n        setIsLoggedIn(true);\n        // После успешной авторизации происходит редирект на /\n        history.push('/');\n      } else {\n        // невалидные данные\n        setTooltipStatus('fail');\n        setIsInfoToolTipOpen(true);\n      }\n    })\n      .catch((err) => {\n        setTooltipStatus('fail');\n        setIsInfoToolTipOpen(true);\n      });\n  }\n\n  function onSignOut() {\n    // при вызове обработчика onSignOut происходит удаление jwt\n    localStorage.removeItem('jwt');\n    setIsLoggedIn(false);\n    // После успешного вызова обработчика onSignOut происходит редирект на /signin\n    history.push('/signin');\n  }\n\n  return (\n    // В компонент App внедрён контекст через CurrentUserContext.Provider\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__content\">\n        <Header email={email} onSignOut={onSignOut}/>\n        <Switch>\n          {/*Роут / защищён HOC-компонентом ProtectedRoute*/}\n          <ProtectedRoute\n            exact path=\"/\"\n            component={Main}\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onCardEdit={(card) => setPlacePopupState({ isOpen: true, card })}\n            loggedIn={isLoggedIn}\n          />\n          {/*Роут /signup и /signin не является защищёнными, т.е оборачивать их в HOC ProtectedRoute не нужно.*/}\n          <Route path=\"/signup\">\n            <Register onRegister={onRegister}/>\n          </Route>\n          <Route path=\"/signin\">\n            <Login onLogin={onLogin}/>\n          </Route>\n        </Switch>\n        <Footer/>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} onClose={closeAllPopups}/>\n        <PlacePopup {...placePopupState} onEditPlace={handleEditPlaceSubmit} onAddPlace={handleAddPlaceSubmit} onClose={closeAllPopups}/>\n        <PopupWithForm title=\"Вы уверены?\" name=\"remove-card\" buttonText=\"Да\"/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onUpdateAvatar={handleUpdateAvatar} onClose={closeAllPopups}/>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n        <InfoTooltip isOpen={isInfoToolTipOpen} onClose={closeAllPopups} status={tooltipStatus}/>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}